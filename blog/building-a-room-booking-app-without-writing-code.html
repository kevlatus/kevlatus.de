<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><title>Building a room booking app without writing code</title><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/assets/images/ic-kevlatus-circle-48.png"/><link rel="apple-touch-icon" sizes="48x48" href="/assets/images/ic-kevlatus-circle-48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/ic-kevlatus-circle-72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/assets/images/ic-kevlatus-circle-96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/ic-kevlatus-circle-144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/assets/images/ic-kevlatus-circle-192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/assets/images/ic-kevlatus-circle-256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/assets/images/ic-kevlatus-circle-384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/assets/images/ic-kevlatus-circle-512.png"/><meta name="theme-color" content="#3786E9"/><meta property="author" content="Kevin Latusinski"/><meta name="description" content="You have a great idea for an app? The problem is that you ca..."/><meta property="og:description" content="You have a great idea for an app? The problem is that you ca..."/><meta property="og:url" content="https://www.kevlatus.de/blog/building-a-room-booking-app-without-writing-code"/><meta property="og:title" content="Building a room booking app without writing code"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@kevlatus"/><meta name="twitter:title" content="Building a room booking app without writing code"/><meta name="twitter:description" content="You have a great idea for an app? The problem is that you ca..."/><meta name="twitter:url" content="https://www.kevlatus.de/blog/building-a-room-booking-app-without-writing-code"/><meta property="twitter:image" content="https://raw.githubusercontent.com/kevlatus/kevlatus.de/main/public/assets/images/ic-kevlatus-circle-512.png"/><link rel="preload" href="https://use.typekit.net/xhs5wzt.css" as="style"/><link rel="stylesheet" href="https://use.typekit.net/xhs5wzt.css"/><meta name="next-head-count" content="29"/><link rel="preload" href="/_next/static/css/f8c2e28816ceaf289993.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8c2e28816ceaf289993.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8d63a2e4a24070d2bde7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8d63a2e4a24070d2bde7.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-2655500d03e7dd101362.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-479699f5e696a59405f8.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.f783f7e0d786735fc5cd.js" as="script"/><link rel="preload" href="/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.1f52a3ec41a5d5095e70.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-623667d0993bd0c20074.js" as="script"/><link rel="preload" href="/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.ad1af2db6fc57853b772.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-1aca61b91d753b9bfa16.js" as="script"/></head><body><script>var q=window.matchMedia('(prefers-color-scheme: dark)');function c(e){document.body.className=e.matches?'dark':'light'};q.addEventListener('change',c);c(q)</script><div id="__next"><div class="min-h-full flex flex-col bg-primary-o2"><header class="px-6 py-2 flex items-center"><a href="/"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" class="text-primary fill-current w-6 h-6"><defs><linearGradient id="ic-kevlatus_svg__a" x1="326.17" y1="699.84" x2="900" y2="699.84" gradientUnits="userSpaceOnUse"><stop offset="0" stop-opacity="0.4"></stop><stop offset="1" stop-opacity="0"></stop></linearGradient></defs><path d="M100 836.13V163.87c0-33.48 25.81-61.73 59.24-63.75a63.16 63.16 0 0167.08 63v673.72a63.16 63.16 0 01-67.08 63c-33.43-1.98-59.24-30.23-59.24-63.71zM331.4 563.13a63.13 63.13 0 01-7.86-125.75 614.42 614.42 0 00229.08-76.33c119.23-68.22 190.45-162.35 229.19-229.31A63.12 63.12 0 11891.08 195C844.56 275.36 759 388.44 615.31 470.63a740.07 740.07 0 01-275.89 92 64.22 64.22 0 01-8.02.5z"></path><path d="M836.93 899.78a63.11 63.11 0 01-54.7-31.52C743.49 801.3 672.27 707.17 553 639a614.42 614.42 0 00-229-76.38 63.12 63.12 0 0115.88-125.24 740.07 740.07 0 01275.89 92C759.37 611.56 845 724.64 891.5 805a63.14 63.14 0 01-54.57 94.75z"></path><path d="M868.48 891.28a63.09 63.09 0 01-86.25-23C743.49 801.3 672.27 707.17 553 639a614.14 614.14 0 00-226.87-76c1.73.15 3.47.22 5.23.22a64.22 64.22 0 008-.51 742.24 742.24 0 00219.2-62.72q29.1 13.44 57.11 29.47C759.37 611.56 845 724.64 891.5 805a63.13 63.13 0 01-23.02 86.28z" fill="url(#ic-kevlatus_svg__a)"></path></svg></a><div class="flex-grow"></div><nav class="flex space-x-4"><a class="NavLink_link__GxAtT" href="/"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 54" class="NavLink_brush__2Hxlw"><path d="M16 40c7.29 2.25 16.18-.69 23.54 1.36 8.82 2.72 18.38 2.72 27.2 2.72 0-1.36-.73-3.4 0-4.08 2.94-2 2.94-4.77 2.94-7.5 0-1.36-2.2 0-1.47-1.36-2.2 0-5.88-.68-3.67-2 .73-1.36 3.67 0 4.41-2s-.74-4.09 0-6.13h2.94c.73-1.37-.74-4.09 0-4.09 2.2-1.36 5.15-.68 8.09-.68 0-1.36.73-2.72-.74-3.41C53.49 11.36 27 8.64 1.28 10.68c-2.94.68-.74 3.41 1.47 5.45-.74-.68-.74 1.36-1.47.68 0 2 1.47 5.45 4.41 6.13H3.48c-.73.68 0 2 0 3.4.74 0 1.47 0 1.47.69v2.72H2c.74 0 1.47 0 1.47.68v2.73c1.47.68 3.68-.69 5.15 0v2c-1.47.68-3.68 0-5.15 0 .74.68.74 1.36.74 2.72 2.2.68 4.41-1.36 6.62.68h-2.2C10.1 42 13.78 39.28 16 40z"></path></svg><div class="type-display text-xl">Home</div></a><a class="NavLink_link__GxAtT NavLink_active__189zX" href="/blog"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 54" class="NavLink_brush__2Hxlw"><path d="M16 40c7.29 2.25 16.18-.69 23.54 1.36 8.82 2.72 18.38 2.72 27.2 2.72 0-1.36-.73-3.4 0-4.08 2.94-2 2.94-4.77 2.94-7.5 0-1.36-2.2 0-1.47-1.36-2.2 0-5.88-.68-3.67-2 .73-1.36 3.67 0 4.41-2s-.74-4.09 0-6.13h2.94c.73-1.37-.74-4.09 0-4.09 2.2-1.36 5.15-.68 8.09-.68 0-1.36.73-2.72-.74-3.41C53.49 11.36 27 8.64 1.28 10.68c-2.94.68-.74 3.41 1.47 5.45-.74-.68-.74 1.36-1.47.68 0 2 1.47 5.45 4.41 6.13H3.48c-.73.68 0 2 0 3.4.74 0 1.47 0 1.47.69v2.72H2c.74 0 1.47 0 1.47.68v2.73c1.47.68 3.68-.69 5.15 0v2c-1.47.68-3.68 0-5.15 0 .74.68.74 1.36.74 2.72 2.2.68 4.41-1.36 6.62.68h-2.2C10.1 42 13.78 39.28 16 40z"></path></svg><div class="type-display text-xl">Blog</div></a></nav><div class="flex-grow"></div><div class="w-6 h-6"></div></header><main class="flex-grow px-2 py-4"><article class="prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto ArticlePage_article__914Fb"><h2 class="ArticlePage_heading__133R1">Building a room booking app without writing code</h2><div class="flex"><div class="text-xs"><span>03<!-- --> <!-- -->February<!-- --> <!-- -->2021</span><span> | </span><span>~<!-- -->10<!-- --> min read</span></div><div class="flex-grow"></div><a class="text-xs" href="https://getpocket.com/edit?url=https%3A%2F%2Fwww.kevlatus.de%2Fblog%2Fbuilding-a-room-booking-app-without-writing-code" target="_blank">Save to Pocket</a></div><p>You have a great idea for an app? The problem is that you can&#x27;t write code or don&#x27;t want to build it from scratch? Wait no more: in this article, Mia will show you how to develop an app with zero lines of code within in a couple of hours using AppSheet and provides you with a one-click link to copy it.</p><h3>What is AppSheet?</h3><p>Let me tell you this little story: When Oliver from engineering approached a consultancy about an app idea, he could not have been more frustrated with the effort and budget required to implement it. Lacking the knowledge about software development, he reached out to his friend Mia, who happens to be a software engineer. Unfortunately, she confirmed the estimate of coding this app from scratch. Even though it is only supposed to manage room bookings for his company, it requires a database for storage, a front-end for interaction, security rules and thorough testing to name just a few. And if he chose to contract the consultancy, he would depend on them for future adjustments due to the lack of knowledge about how to maintain it.</p><p>Then Mia remembers reading about the no-code platform AppSheet, which would allow Oliver to build the room booking app himself, since it doesn&#x27;t require any prior knowledge. They only need to <a href="https://support.google.com/accounts/answer/27441?hl=en">register for a Google account</a> and use it to sign into AppSheet. Once signed in, you can either copy an example app, follow a step-by-step guide or provide your own data from a Google Sheet. Afterwards, the interface provides basic controls to configure how a user might view, add and change data.</p><h3>Designing the data model</h3><p>To get started, Mia tells Oliver to first think about the data domain for his app. The data domain refers to all objects that need to be stored in the database, like rooms and bookings. So they create a new Google Sheet at <a href="http://sheets.new">sheets.new</a> and populate it with four sheets for storing sites, buildings, rooms and bookings.</p><p>Since Oliver&#x27;s company operates from multiple locations, the data model needs to store information about available sites. As the following table shows, this sheet only contains three columns for storing a unique identifier, a site&#x27;s name and location.</p><table><thead><tr><th>Column Name</th><th>Description</th></tr></thead><tbody><tr><td>ID</td><td>a unique identifier for referring to a site internally</td></tr><tr><td>Name</td><td>the name used for displaying a site in the UI</td></tr><tr><td>Address</td><td>the physical location of this site</td></tr></tbody></table><p>The second sheet stores information about buildings at a site. Again, the columns are very basic, but now the reason for having a unique id property is shown. Because each building must be located at an existing site, its <em>Site</em> property references an id in the site table. &quot;In database terms, this is referred to as a foreign-key relationship&quot;, Mia explains proudly.</p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>ID</td><td>a unique identifier for referring to a building internally</td></tr><tr><td>Name</td><td>the name used for displaying a building in the UI</td></tr><tr><td>Site</td><td>a reference to the site this building is located at</td></tr></tbody></table><p>Slowly getting the hang of it, Oliver suggests that a room&#x27;s structure is identical, but instead of referencing a site, it references a building; which is exactly the case.</p><p>Now for storing room bookings, we need more information: besides recording the corresponding room, start and end times as well as the person booking the room must be known.</p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>ID</td><td>a unique identifier for referring to a booking internally</td></tr><tr><td>Room</td><td>a reference to the room, which is being booked</td></tr><tr><td>Person</td><td>the mail address of the person booking the room</td></tr><tr><td>Start</td><td>start date and time of this booking</td></tr><tr><td>End</td><td>end date and time of this booking</td></tr></tbody></table><p>With this data model in place, we are set for importing the tables in AppSheet and building the user interface for interacting with the data.</p><p><img src="https://github.com/kevlatus/kevlatus.de/blob/main/public/assets/blog/images/img-roombooker-erm.jpg?raw=true" alt=""/></p><h3>Building the app</h3><p>So, Mia heads to appsheet.com and creates a new app using the &quot;start with your data&quot; option, where she locates the previously stored Google Sheet. AppSheet automatically imports the first table from the sheet and provides one-click suggestions for importing the others. The live demo already features a button for registering a new site, which shows a corresponding form when clicking it. Unfortunately, the id field is editable in the form, so they navigate to the Columns tab in AppSheet&#x27;s Data section and inspect the Site columns. Toggling the checkbox on the id&#x27;s Show? property immediately hides it from the preview. Oliver, already getting excited about how quickly they can make changes to the app, realizes that AppSheet automatically detected that buildings are linked to sites and created a backreference column.</p><p><img src="https://raw.githubusercontent.com/kevlatus/kevlatus.de/main/public/assets/blog/images/img-appsheet-column-settings.png" alt=""/></p><p>&quot;It seems like AppSheet automatically infers relationships between tables based on their names and property names&quot;, Mia explains. Each table&#x27;s foreign-key property (e.g. Building on Room) has a type of ref, while the referenced table features a column with all related refs (e.g. Related Buildings on Site). They confirm this by clicking through the preview app and creating sites, buildings and rooms, which works out-of-the-box using the &quot;+&quot; and &quot;add&quot; buttons.</p><p><img src="https://github.com/kevlatus/kevlatus.de/blob/main/public/assets/blog/images/room-booking-navigation.gif?raw=true" alt=""/></p><p>But when opening the room booking form, they stumble on an issue: how can we store the person, who is booking a room? A quick Google search later, they navigate back to the column definitions of the <em>Room Booking</em> table, set its initial value to <code>USEREMAIL()</code> and disable its <code>Show?</code> value. This ensures that the currently signed in user is added to any new booking.</p><h3>Securing the data</h3><p>While the basic functionality of this already implemented, any user may add, edit and delete all data, even if it was submitted by other users. Furthermore, bookings are not validated, so they could overlap, which will cause confusion among users. To solve the first challenge, Mia proposes role-based permissions to be stored in a new table. This <code>User</code> table contains only two columns: <em>Mail</em> and <em>Role</em>, both of which are storing plain text values and map a mail address to a comma-separated list of roles. &quot;For now, I don&#x27;t need this to be managed within the app. I&#x27;m fine with adding permissions manually in the Google Sheet&quot;, Oliver suggests. To apply the restrictions in AppSheet, we must navigate to Data ➜ Tables and change the formula in <code>Are updates allowed?</code> for rooms, buildings and sites to check, if the current user has the <em>Content Manager</em> role. The code snippet below can be used to achieve this. It filters the <code>User</code> table for entries matching the active user and sets permissions to <code>ALL_CHANGES</code>, if <em>Content Manager</em> exists in the list of roles and <code>READ_ONLY</code> otherwise.</p><pre style="display:block;overflow-x:auto;padding:1em;background:var(--color-background);color:var(--color-text)"><code class="language-javascript">IF(
  ISNOTBLANK(
    FILTER(&quot;User&quot;, AND(
      IN(&quot;Content Manager&quot;, SPLIT([Role], &quot;,&quot;)),
      [Mail] = USEREMAIL()
    ))
  ),
  &quot;ALL_CHANGES&quot;,
  &quot;READ_ONLY&quot;
)</code></pre><p>With protected information now only being editable by content managers, only room bookings need to be validated. There are two conditions for a booking to be valid:</p><ol><li>its start time must be before its end time</li><li>there must be no other booking with an overlapping time frame for its room</li></ol><p>The first statement is implemented using a simple <em>less than</em> comparison between a booking&#x27;s start and end dates. For the second statement, Mia uses her experience from a previous project: to compare two time periods, one&#x27;s start date must be smaller than the other&#x27;s end date and its end date must be larger than the other&#x27;s start date. The special <code>_THISROW</code> variable refers to the row currently be evaluated, which helps to distinguish it from the values being filtered by.</p><pre style="display:block;overflow-x:auto;padding:1em;background:var(--color-background);color:var(--color-text)"><code class="language-javascript">AND(
  [Start] &lt; [End],
  ISBLANK(
    FILTER(
      &quot;Room Booking&quot;,
      AND(
        [Room].[ID] = [_THISROW].[Room].[ID],
        [Start] &lt;= [_THISROW].[End],
        [_THISROW].[Start] &lt;= [End]
      )
    )
  )
)</code></pre><p>Since this actually filters by two criteria, we should tell the user why an input is invalid. The <code>Invalid value error</code> field allows us to show a custom error message below an affected field. This can either be plain text or a formula like the one below.</p><pre style="display:block;overflow-x:auto;padding:1em;background:var(--color-background);color:var(--color-text)"><code class="language-javascript">IF(
  [Start] &gt;= [End],
  &quot;The booking&#x27;s end date must be greater than its start.&quot;,
  &quot;This room is already booked during this time.&quot;
)</code></pre><p>When showing the app to his colleagues, the feedback is overwhelmingly positive, but there is a critical issue: they want to see their bookings directly in their calendars, without having to manually sync changes between the app and their calendars. As this is a valid concern, Oliver again reaches out to Mia for support and they find a solution for <a href="https://www.kevlatus.de/blog/syncing-calendar-events-with-appsheet">automatically syncing all bookings to a calendar</a> and inviting the organizer. With this solution implemented the next day, the facilities department agrees on deploying the app over the next few weeks and trying it out on scale.</p><p>Within just two days, without having any coding knowledge or spending money, Oliver created an app, which is used for managing room bookings at his company.  This shows the benefits of a no-code platform like AppSheet: it allows for quickly prototyping ideas without making heavy time or budget commitments, while also empowering non-technical folks to build apps.</p><h3>Final notes</h3><p>This was my first post about AppSheet and is supposed to give a general overview of its capabilities. I made the <a href="https://www.appsheet.com/Template/AppDef?appName=RoomBooker-2164883">RoomBooker app public</a>, so you may copy it or browse through its implementation. If you want to learn more about no-code platforms or have any opinion on this story, please leave a comment in the discussion and I will feature them in future articles.</p><div class="flex"><div class="flex-grow"></div><a target="_blank" href="https://twitter.com/search?q=https%3A%2F%2Fwww.kevlatus.de%2Fblog%2Fbuilding-a-room-booking-app-without-writing-code">Join the discussion</a><div class="flex-grow"></div></div></article></main><footer class="px-8 py-2 flex items-center justify-center"><ul class="flex space-x-4"><li><a class="group flex flex-col justify-center items-center relative" href="https://github.com/kevlatus"><div class="flex type-display text-xl hidden md:flex"><div class="transition" style="transform:translateY(0) rotate(0)">G</div><div class="transition" style="transform:translateY(0) rotate(0)">i</div><div class="transition" style="transform:translateY(0) rotate(0)">t</div><div class="transition" style="transform:translateY(0) rotate(0)">h</div><div class="transition" style="transform:translateY(0) rotate(0)">u</div><div class="transition" style="transform:translateY(0) rotate(0)">b</div></div><div class="type-display text-xl md:hidden">Github</div><div class="absolute hidden md:flex items-center transform scale-0 transition-transform group-hover:scale-100"><svg viewBox="0 0 1024 1024" fill="none" class="fill-current w-6 h-6"><path clip-rule="evenodd" d="M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0z"></path></svg></div></a></li><li><a class="group flex flex-col justify-center items-center relative" href="https://linkedin.com/in/kevlatus"><div class="flex type-display text-xl hidden md:flex"><div class="transition" style="transform:translateY(0) rotate(0)">L</div><div class="transition" style="transform:translateY(0) rotate(0)">i</div><div class="transition" style="transform:translateY(0) rotate(0)">n</div><div class="transition" style="transform:translateY(0) rotate(0)">k</div><div class="transition" style="transform:translateY(0) rotate(0)">e</div><div class="transition" style="transform:translateY(0) rotate(0)">d</div><div class="transition" style="transform:translateY(0) rotate(0)">I</div><div class="transition" style="transform:translateY(0) rotate(0)">n</div></div><div class="type-display text-xl md:hidden">LinkedIn</div><div class="absolute hidden md:flex items-center transform scale-0 transition-transform group-hover:scale-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current w-6 h-6"><path d="M19 0H5a5 5 0 00-5 5v14a5 5 0 005 5h14a5 5 0 005-5V5a5 5 0 00-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"></path></svg></div></a></li><li><a class="group flex flex-col justify-center items-center relative" href="https://twitter.com/kevlatus"><div class="flex type-display text-xl hidden md:flex"><div class="transition" style="transform:translateY(0) rotate(0)">T</div><div class="transition" style="transform:translateY(0) rotate(0)">w</div><div class="transition" style="transform:translateY(0) rotate(0)">i</div><div class="transition" style="transform:translateY(0) rotate(0)">t</div><div class="transition" style="transform:translateY(0) rotate(0)">t</div><div class="transition" style="transform:translateY(0) rotate(0)">e</div><div class="transition" style="transform:translateY(0) rotate(0)">r</div></div><div class="type-display text-xl md:hidden">Twitter</div><div class="absolute hidden md:flex items-center transform scale-0 transition-transform group-hover:scale-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current w-6 h-6"><path d="M24 4.557a9.83 9.83 0 01-2.828.775 4.932 4.932 0 002.165-2.724 9.864 9.864 0 01-3.127 1.195 4.916 4.916 0 00-3.594-1.555c-3.179 0-5.515 2.966-4.797 6.045A13.978 13.978 0 011.671 3.149a4.93 4.93 0 001.523 6.574 4.903 4.903 0 01-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 01-2.224.084 4.928 4.928 0 004.6 3.419A9.9 9.9 0 010 19.54a13.94 13.94 0 007.548 2.212c9.142 0 14.307-7.721 13.995-14.646A10.025 10.025 0 0024 4.557z"></path></svg></div></a></li></ul></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"content":"You have a great idea for an app? The problem is that you can't write code or don't want to build it from scratch? Wait no more: in this article, Mia will show you how to develop an app with zero lines of code within in a couple of hours using AppSheet and provides you with a one-click link to copy it.\n\n### What is AppSheet?\n\nLet me tell you this little story: When Oliver from engineering approached a consultancy about an app idea, he could not have been more frustrated with the effort and budget required to implement it. Lacking the knowledge about software development, he reached out to his friend Mia, who happens to be a software engineer. Unfortunately, she confirmed the estimate of coding this app from scratch. Even though it is only supposed to manage room bookings for his company, it requires a database for storage, a front-end for interaction, security rules and thorough testing to name just a few. And if he chose to contract the consultancy, he would depend on them for future adjustments due to the lack of knowledge about how to maintain it.\n\nThen Mia remembers reading about the no-code platform AppSheet, which would allow Oliver to build the room booking app himself, since it doesn't require any prior knowledge. They only need to [register for a Google account](https://support.google.com/accounts/answer/27441?hl=en) and use it to sign into AppSheet. Once signed in, you can either copy an example app, follow a step-by-step guide or provide your own data from a Google Sheet. Afterwards, the interface provides basic controls to configure how a user might view, add and change data.\n\n### Designing the data model\n\nTo get started, Mia tells Oliver to first think about the data domain for his app. The data domain refers to all objects that need to be stored in the database, like rooms and bookings. So they create a new Google Sheet at [sheets.new](http://sheets.new) and populate it with four sheets for storing sites, buildings, rooms and bookings.\n\nSince Oliver's company operates from multiple locations, the data model needs to store information about available sites. As the following table shows, this sheet only contains three columns for storing a unique identifier, a site's name and location.\n\n| Column Name | Description                                            |\n| ----------- | ------------------------------------------------------ |\n| ID          | a unique identifier for referring to a site internally |\n| Name        | the name used for displaying a site in the UI          |\n| Address     | the physical location of this site                     |\n\nThe second sheet stores information about buildings at a site. Again, the columns are very basic, but now the reason for having a unique id property is shown. Because each building must be located at an existing site, its _Site_ property references an id in the site table. \"In database terms, this is referred to as a foreign-key relationship\", Mia explains proudly.\n\n| Name | Description                                                |\n| ---- | ---------------------------------------------------------- |\n| ID   | a unique identifier for referring to a building internally |\n| Name | the name used for displaying a building in the UI          |\n| Site | a reference to the site this building is located at        |\n\nSlowly getting the hang of it, Oliver suggests that a room's structure is identical, but instead of referencing a site, it references a building; which is exactly the case.\n\nNow for storing room bookings, we need more information: besides recording the corresponding room, start and end times as well as the person booking the room must be known.\n\n| Name   | Description                                               |\n| ------ | --------------------------------------------------------- |\n| ID     | a unique identifier for referring to a booking internally |\n| Room   | a reference to the room, which is being booked            |\n| Person | the mail address of the person booking the room           |\n| Start  | start date and time of this booking                       |\n| End    | end date and time of this booking                         |\n\nWith this data model in place, we are set for importing the tables in AppSheet and building the user interface for interacting with the data.\n\n![](https://github.com/kevlatus/kevlatus.de/blob/main/public/assets/blog/images/img-roombooker-erm.jpg?raw=true)\n\n### Building the app\n\nSo, Mia heads to appsheet.com and creates a new app using the \"start with your data\" option, where she locates the previously stored Google Sheet. AppSheet automatically imports the first table from the sheet and provides one-click suggestions for importing the others. The live demo already features a button for registering a new site, which shows a corresponding form when clicking it. Unfortunately, the id field is editable in the form, so they navigate to the Columns tab in AppSheet's Data section and inspect the Site columns. Toggling the checkbox on the id's Show? property immediately hides it from the preview. Oliver, already getting excited about how quickly they can make changes to the app, realizes that AppSheet automatically detected that buildings are linked to sites and created a backreference column.\n\n![](https://raw.githubusercontent.com/kevlatus/kevlatus.de/main/public/assets/blog/images/img-appsheet-column-settings.png)\n\n\"It seems like AppSheet automatically infers relationships between tables based on their names and property names\", Mia explains. Each table's foreign-key property (e.g. Building on Room) has a type of ref, while the referenced table features a column with all related refs (e.g. Related Buildings on Site). They confirm this by clicking through the preview app and creating sites, buildings and rooms, which works out-of-the-box using the \"+\" and \"add\" buttons.\n\n![](https://github.com/kevlatus/kevlatus.de/blob/main/public/assets/blog/images/room-booking-navigation.gif?raw=true)\n\nBut when opening the room booking form, they stumble on an issue: how can we store the person, who is booking a room? A quick Google search later, they navigate back to the column definitions of the _Room Booking_ table, set its initial value to `USEREMAIL()` and disable its `Show?` value. This ensures that the currently signed in user is added to any new booking. \n\n### Securing the data\n\nWhile the basic functionality of this already implemented, any user may add, edit and delete all data, even if it was submitted by other users. Furthermore, bookings are not validated, so they could overlap, which will cause confusion among users. To solve the first challenge, Mia proposes role-based permissions to be stored in a new table. This `User` table contains only two columns: _Mail_ and _Role_, both of which are storing plain text values and map a mail address to a comma-separated list of roles. \"For now, I don't need this to be managed within the app. I'm fine with adding permissions manually in the Google Sheet\", Oliver suggests. To apply the restrictions in AppSheet, we must navigate to Data ➜ Tables and change the formula in `Are updates allowed?` for rooms, buildings and sites to check, if the current user has the _Content Manager_ role. The code snippet below can be used to achieve this. It filters the `User` table for entries matching the active user and sets permissions to `ALL_CHANGES`, if _Content Manager_ exists in the list of roles and `READ_ONLY` otherwise.\n\n```javascript\nIF(\n  ISNOTBLANK(\n    FILTER(\"User\", AND(\n      IN(\"Content Manager\", SPLIT([Role], \",\")),\n      [Mail] = USEREMAIL()\n    ))\n  ),\n  \"ALL_CHANGES\",\n  \"READ_ONLY\"\n)\n```\n\nWith protected information now only being editable by content managers, only room bookings need to be validated. There are two conditions for a booking to be valid:\n\n1. its start time must be before its end time\n1. there must be no other booking with an overlapping time frame for its room\n\nThe first statement is implemented using a simple _less than_ comparison between a booking's start and end dates. For the second statement, Mia uses her experience from a previous project: to compare two time periods, one's start date must be smaller than the other's end date and its end date must be larger than the other's start date. The special `_THISROW` variable refers to the row currently be evaluated, which helps to distinguish it from the values being filtered by.\n\n```javascript\nAND(\n  [Start] \u003c [End],\n  ISBLANK(\n    FILTER(\n      \"Room Booking\",\n      AND(\n        [Room].[ID] = [_THISROW].[Room].[ID],\n        [Start] \u003c= [_THISROW].[End],\n        [_THISROW].[Start] \u003c= [End]\n      )\n    )\n  )\n)\n```\n\nSince this actually filters by two criteria, we should tell the user why an input is invalid. The `Invalid value error` field allows us to show a custom error message below an affected field. This can either be plain text or a formula like the one below.\n\n```javascript\nIF(\n  [Start] \u003e= [End],\n  \"The booking's end date must be greater than its start.\",\n  \"This room is already booked during this time.\"\n)\n```\n\n\n\nWhen showing the app to his colleagues, the feedback is overwhelmingly positive, but there is a critical issue: they want to see their bookings directly in their calendars, without having to manually sync changes between the app and their calendars. As this is a valid concern, Oliver again reaches out to Mia for support and they find a solution for [automatically syncing all bookings to a calendar](https://www.kevlatus.de/blog/syncing-calendar-events-with-appsheet) and inviting the organizer. With this solution implemented the next day, the facilities department agrees on deploying the app over the next few weeks and trying it out on scale.\n\nWithin just two days, without having any coding knowledge or spending money, Oliver created an app, which is used for managing room bookings at his company.  This shows the benefits of a no-code platform like AppSheet: it allows for quickly prototyping ideas without making heavy time or budget commitments, while also empowering non-technical folks to build apps.\n\n### Final notes\n\nThis was my first post about AppSheet and is supposed to give a general overview of its capabilities. I made the [RoomBooker app public](https://www.appsheet.com/Template/AppDef?appName=RoomBooker-2164883), so you may copy it or browse through its implementation. If you want to learn more about no-code platforms or have any opinion on this story, please leave a comment in the discussion and I will feature them in future articles.\n","slug":"building-a-room-booking-app-without-writing-code","timestamp":"2021-02-03","title":"Building a room booking app without writing code","status":"2 final","description":"You have a great idea for an app? The problem is that you ca..."}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"building-a-room-booking-app-without-writing-code"},"buildId":"fwx-BqRCBXqTee8rovE6z","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-51ce6eb9ed73aacaf515.js"></script><script src="/_next/static/chunks/main-2655500d03e7dd101362.js" async=""></script><script src="/_next/static/chunks/webpack-479699f5e696a59405f8.js" async=""></script><script src="/_next/static/chunks/framework.f783f7e0d786735fc5cd.js" async=""></script><script src="/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.1f52a3ec41a5d5095e70.js" async=""></script><script src="/_next/static/chunks/pages/_app-623667d0993bd0c20074.js" async=""></script><script src="/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.ad1af2db6fc57853b772.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-1aca61b91d753b9bfa16.js" async=""></script><script src="/_next/static/fwx-BqRCBXqTee8rovE6z/_buildManifest.js" async=""></script><script src="/_next/static/fwx-BqRCBXqTee8rovE6z/_ssgManifest.js" async=""></script></body></html>